
{
    "configurations": [
      {
        "yarn-site": {
          "properties": {
            "yarn.nodemanager.resource.cpu-vcores": "6",
            "yarn.nodemanager.resource.memory-mb": "23296",
            "yarn.scheduler.maximum-allocation-mb": "23296"
          }
        }
      },
      {
        "core-site": {
          "properties_attributes": {},
          "properties": {
            "fs.s3a.threads.max": "1000",
            "fs.s3a.threads.core": "500",
            "fs.s3a.max.total.tasks": "1000",
            "fs.s3a.connection.maximum": "1500"
          }
        }
      },
      {
        "capacity-scheduler": {
          "properties": {
            "yarn.scheduler.capacity.root.queues": "default",
            "yarn.scheduler.capacity.root.capacity": "100",
            "yarn.scheduler.capacity.root.maximum-capacity": "100",
            "yarn.scheduler.capacity.root.default.capacity": "100",
            "yarn.scheduler.capacity.root.default.maximum-capacity": "100"
          }
        }
      },
      {
        "spark2-defaults": {
          "properties_attributes": {},
          "properties": {
            "spark.sql.hive.hiveserver2.jdbc.url": "jdbc:hive2://%HOSTGROUP::master%:2181/;serviceDiscoveryMode=zooKeeper;zooKeeperNamespace=hiveserver2",
            "spark.sql.hive.hiveserver2.jdbc.url.principal": "hive/_HOST@EC2.INTERNAL",
            "spark.datasource.hive.warehouse.metastoreUri": "thrift://%HOSTGROUP::master%:9083",
            "spark.datasource.hive.warehouse.load.staging.dir": "/tmp",
            "spark.hadoop.hive.zookeeper.quorum": "%HOSTGROUP::master%:2181"
          }
        }
      },
      {
        "hive-site": {
            "hive.metastore.warehouse.dir": "/apps/hive/warehouse",
          "hive.exec.compress.output": "true",
          "hive.merge.mapfiles": "true",
          "hive.server2.tez.initialize.default.sessions": "true",
          "hive.server2.transport.mode": "http",
          "hive.metastore.dlm.events": "true",
          "hive.metastore.transactional.event.listeners": "org.apache.hive.hcatalog.listener.DbNotificationListener",
          "hive.repl.cm.enabled": "true",
          "hive.repl.cmrootdir": "/apps/hive/cmroot",
          "hive.repl.rootdir": "/apps/hive/repl"
        }
      },
      {
        "hdfs-site": {
          "properties_attributes": {},
          "properties": {
          }
        }
      }
    ],
    "host_groups": [
      {
        "name": "master",
        "cardinality": "1",
        "components": [
          {
            "name": "ZOOKEEPER_SERVER"
          },
          {
            "name": "NAMENODE"
          },
          {
            "name": "SECONDARY_NAMENODE"
          },
          {
            "name": "RESOURCEMANAGER"
          },
          {
            "name": "HISTORYSERVER"
          },
          {
            "name": "APP_TIMELINE_SERVER"
          },
          {
            "name": "LIVY2_SERVER"
          },
          {
            "name": "SPARK2_CLIENT"
          },
          {
            "name": "SPARK2_JOBHISTORYSERVER"
          },
          {
            "name": "ZEPPELIN_MASTER"
          },
          {
            "name": "METRICS_GRAFANA"
          },
          {
            "name": "METRICS_MONITOR"
          },
          {
            "name": "DATANODE"
          },
          {
            "name": "HIVE_SERVER"
          },
          {
            "name": "HIVE_METASTORE"
          },
          {
            "name": "HIVE_CLIENT"
          },
          {
            "name": "YARN_CLIENT"
          },
          {
            "name": "HDFS_CLIENT"
          },
          {
            "name": "ZOOKEEPER_CLIENT"
          },
          {
            "name": "TEZ_CLIENT"
          },
          {
            "name": "NODEMANAGER"
          },
          {
            "name": "MAPREDUCE2_CLIENT"
          }
        ]
      }
  
    ],
    "Blueprints": {
      "blueprint_name": "bmq-data-science",
      "stack_name": "HDP",
      "stack_version": "3.1"
    }
  }